{"version":3,"file":"anim-count.js","mappings":"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","sources":["webpack://themehunk-block/./inc/block/animation/utils.js","webpack://themehunk-block/webpack/bootstrap","webpack://themehunk-block/webpack/runtime/define property getters","webpack://themehunk-block/webpack/runtime/hasOwnProperty shorthand","webpack://themehunk-block/webpack/runtime/make namespace object","webpack://themehunk-block/./inc/block/animation/frontend/count/index.js"],"sourcesContent":["/**\r\n * Create utility functions for an interval timer.\r\n * @param {number} duration The duration, in seconds.\r\n * @param {number} deltaTime The time between two time ticks, in seconds.\r\n * @returns Utility functions.\r\n */\r\nexport const makeInterval = ( duration, deltaTime ) => {\r\n\r\n\tlet interval;\r\n\tlet currentStep = 0;\r\n\tconst steps = ( Math.ceil( duration / deltaTime ) + 1 ) || 1;\r\n\r\n\t/**\r\n\t * Stop the interval. Get a callback function that execute at the end.\r\n\t * @param {Function} callback Function that execute at the end.\r\n\t */\r\n\tconst stop = ( callback ) => {\r\n\t\tclearInterval( interval );\r\n\t\tcallback?.();\r\n\t};\r\n\r\n\t/**\r\n\t * Start the interval. Get a callback function that execute at every tick and the one that execute at the end.\r\n\t * @param {Function} callback Function that execute at every tick.\r\n\t * @param {Function} endCallback Function that execute at the end.\r\n\t */\r\n\tconst start = ( callback, endCallback ) => {\r\n\t\tinterval = setInterval( () => {\r\n\t\t\tif ( currentStep < steps ) {\r\n\t\t\t\tcallback?.( currentStep );\r\n\t\t\t\tcurrentStep += 1;\r\n\t\t\t} else {\r\n\t\t\t\tstop( endCallback );\r\n\t\t\t}\r\n\t\t}, deltaTime * 1000 );\r\n\t};\r\n\r\n\treturn {\r\n\t\tsteps,\r\n\t\tstart,\r\n\t\tstop\r\n\t};\r\n};\r\n\r\n/**\r\n * Specify a function to execute when the DOM is fully loaded.\r\n *\r\n * @param {Callback} callback A function to execute after the DOM is ready.\r\n * @return {void}\r\n */\r\nexport const domReady = ( callback ) => {\r\n\tif ( 'undefined' === typeof document ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (\r\n\t\t'complete' === document.readyState || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\r\n\t\t'interactive' === document.readyState // DOMContentLoaded fires at this point, so we call directly.\r\n\t) {\r\n\t\treturn void callback();\r\n\t}\r\n\r\n\t// DOMContentLoaded has not fired yet, delay callback until then.\r\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tdomReady,\r\n\tmakeInterval\r\n} from '../../utils.js';\r\n\r\nconst MAX_PARENT_SEARCH = 3;\r\n\r\nconst speedConfig = {\r\n\t'none': undefined,\r\n\t'o-count-slower': 3,\r\n\t'o-count-slow': 2,\r\n\t'o-count-fast': 1.5,\r\n\t'o-count-fastest': 1\r\n};\r\n\r\n/**\r\n * Get the configuration option from the element CSS classes.\r\n * @param {HTMLDivElement} elem\r\n * @returns Configuration options.\r\n */\r\nconst getConfiguration = ( elem ) => {\r\n\tlet parent = elem.parentElement;\r\n\tfor ( let i = 0; i < MAX_PARENT_SEARCH; ++i ) {\r\n\t\tif ( Array.from( parent.classList ).some( o => o.includes( 'o-count-' ) ) ) {\r\n\t\t\tconst arr = Array.from( parent.classList );\r\n\r\n\t\t\tconst delay = arr.filter( x => x.includes( 'o-count-delay-' ) ).pop();\r\n\t\t\tconst number = parseInt( delay?.split( '-' )?.[3] || '0' );\r\n\t\t\tconst isMS = delay?.includes( 'ms' );\r\n\r\n\t\t\tconst speedOptions = Object.keys( speedConfig );\r\n\t\t\tconst speed = arr?.filter( x => speedOptions.includes( x ) )?.pop() || 'fast';\r\n\r\n\t\t\treturn {\r\n\t\t\t\tspeed: speedConfig[speed],\r\n\t\t\t\tdelay: number * ( isMS ? 0 : 1000 )\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\n// List to all characters that can be in a number structure.\r\nconst NUMERIC_FORMATS = new Set( Array.from( '0123456789,.' ) );\r\n\r\n// List to extra characters that ca be in a number format. E.g: `-` with 23-34-12-12.\r\nconst NUMBER_EXTRA_FORMAT = new Set( Array.from( ',' ) );\r\n\r\n/**\r\n * Extract the number, prefix, and suffix.\r\n * @param {string} text The selected text\r\n * @returns An object with the number, prefix and suffix\r\n */\r\nconst extract = ( text ) => {\r\n\tconst arr = Array.from( text );\r\n\r\n\tconst prefix = [];\r\n\tconst suffix = [];\r\n\tconst number = [];\r\n\r\n\tlet isPrefix = true;\r\n\tlet isSuffix = false;\r\n\r\n\tfor ( let x of arr ) {\r\n\t\tif ( NUMERIC_FORMATS.has( x ) ) {\r\n\t\t\tif ( isPrefix ) {\r\n\t\t\t\tisPrefix = false;\r\n\t\t\t}\r\n\t\t\tif ( isSuffix ) {\r\n\r\n\t\t\t\t// If there are more numbers in the selection, consider them as suffix.\r\n\t\t\t\tsuffix.push( x );\r\n\t\t\t} else {\r\n\t\t\t\tnumber.push( x );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif ( isPrefix ) {\r\n\t\t\t\tprefix.push( x );\r\n\t\t\t} else {\r\n\t\t\t\tif ( ! isSuffix ) {\r\n\t\t\t\t\tisSuffix = true;\r\n\t\t\t\t}\r\n\t\t\t\tsuffix.push( x );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tprefix: prefix.join( '' ),\r\n\t\tsuffix: suffix.join( '' ),\r\n\t\tnumber\r\n\t};\r\n};\r\n\r\n/**\r\n * Start the count animation.\r\n * @param {HTMLDivElement} elem The HTML element.\r\n */\r\nconst initCount = ( elem ) => {\r\n\tconst text = elem?.innerHTML || '';\r\n\tconst config = getConfiguration( elem );\r\n\r\n\tconst {\r\n\t\tsuffix,\r\n\t\tprefix,\r\n\t\tnumber\r\n\t} = extract( text );\r\n\r\n\tconst formatElements = [ ...number ].reverse().map( ( c, idx ) => {\r\n\t\tif ( NUMBER_EXTRA_FORMAT.has( c ) ) {\r\n\t\t\treturn {\r\n\t\t\t\tposition: idx,\r\n\t\t\t\tcharacter: c\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}).filter( x => x );\r\n\r\n\t// Get the precision based on the numbers after the comma.\r\n\tconst numAfterComma = number.join( '' )?.split( '.' )?.[1]?.length || 0;\r\n\r\n\t// Clean the string and the get the number.\r\n\tconst parsedNumber = parseFloat( number.filter( c => ',' !== c ).join( '' )  );\r\n\r\n\tconst paddingLen = text.length - suffix.length;\r\n\r\n\t/**\r\n\t * Apply the format to the number.\r\n\t * @param {number} n The number.\r\n\t */\r\n\tconst applyFormat = ( n ) => {\r\n\t\tconst num = n.split( '' ).reverse();\r\n\r\n\t\tformatElements.forEach( f => {\r\n\t\t\tif ( f.position < num.length ) {\r\n\t\t\t\tnum.splice( f.position, 0, f.character );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn ( ( prefix || '' ) + ( num.reverse().join( '' ) ) ).padStart( paddingLen, ' ' ) + suffix || '';\r\n\t};\r\n\r\n\tconst { start, steps } = makeInterval( config?.speed || 2, 0.05 );\r\n\tconst delta =  parseFloat( ( parsedNumber /  steps ).toFixed( numAfterComma || 2 ) ) ;\r\n\r\n\t// Don't animate it if the difference is very small.\r\n\tif ( 0.000000000001 > delta ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\tlet values = [ 0 ];\r\n\tfor ( let i = 1; i < steps; ++i ) {\r\n\t\tvalues.push(  values[i - 1] + delta );\r\n\t}\r\n\tvalues = values.map( n => n.toFixed( numAfterComma ) );\r\n\r\n\tif ( 0 < values.length ) {\r\n\t\tvalues[steps - 1] =  parsedNumber.toFixed( numAfterComma || 0 );\r\n\t\telem.innerHTML =  applyFormat( values[0]);\r\n\r\n\t\tsetTimeout( () => {\r\n\t\t\telem.style.whiteSpace = 'pre';\r\n\t\t\tstart( ( i ) => {\r\n\t\t\t\telem.innerHTML = applyFormat( values[i]);\r\n\t\t\t}, () => {\r\n\t\t\t\telem.style.whiteSpace = '';\r\n\t\t\t\telem.innerHTML = text;\r\n\t\t\t});\r\n\r\n\t\t}, config?.delay || 0 );\r\n\t}\r\n};\r\n\r\ndomReady( () => {\r\n\tconst options = {\r\n\t\troot: null,\r\n\t\trootMargin: '0px',\r\n\t\tthreshold: [ 0.6 ]\r\n\t};\r\n\r\n\tconst NUMBERS = new Set( '0123456789' );\r\n\r\n\tsetTimeout( () => {\r\n\t\tconst anims = document.querySelectorAll( 'o-anim-count' );\r\n\t\tanims.forEach( ( elem ) => {\r\n\t\t\tif ( Array.from( elem.innerHTML ).some( c  => NUMBERS.has( c ) ) ) {\r\n\t\t\t\tconst observer = new IntersectionObserver( ( entries ) => {\r\n\t\t\t\t\tentries.forEach( entry => {\r\n\t\t\t\t\t\tif ( entry.isIntersecting && 0 < entry.intersectionRect.height ) {\r\n\t\t\t\t\t\t\tobserver.unobserve( elem );\r\n\t\t\t\t\t\t\tinitCount( elem );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, options );\r\n\t\t\t\tobserver.observe( elem );\r\n\t\t\t}\r\n\t\t});\r\n\t}, 300 );\r\n\r\n});\r\n"],"names":["makeInterval","duration","deltaTime","interval","currentStep","steps","Math","ceil","stop","callback","clearInterval","start","endCallback","setInterval","domReady","document","readyState","addEventListener","MAX_PARENT_SEARCH","speedConfig","undefined","getConfiguration","elem","parent","parentElement","i","Array","from","classList","some","o","includes","arr","delay","filter","x","pop","number","parseInt","split","isMS","speedOptions","Object","keys","speed","NUMERIC_FORMATS","Set","NUMBER_EXTRA_FORMAT","extract","text","prefix","suffix","isPrefix","isSuffix","has","push","join","initCount","innerHTML","config","formatElements","reverse","map","c","idx","position","character","numAfterComma","length","parsedNumber","parseFloat","paddingLen","applyFormat","n","num","forEach","f","splice","padStart","delta","toFixed","values","setTimeout","style","whiteSpace","options","root","rootMargin","threshold","NUMBERS","anims","querySelectorAll","observer","IntersectionObserver","entries","entry","isIntersecting","intersectionRect","height","unobserve","observe"],"sourceRoot":""}