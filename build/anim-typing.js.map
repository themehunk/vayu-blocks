{"version":3,"file":"anim-typing.js","mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,YAAY,GAAG,CAAEC,QAAQ,EAAEC,SAAS,KAAM;EAEtD,IAAIC,QAAQ;EACZ,IAAIC,WAAW,GAAG,CAAC;EACnB,MAAMC,KAAK,GAAKC,IAAI,CAACC,IAAI,CAAEN,QAAQ,GAAGC,SAAS,CAAE,GAAG,CAAC,IAAM,CAAC;;EAE5D;AACD;AACA;AACA;EACC,MAAMM,IAAI,GAAKC,QAAQ,IAAM;IAC5BC,aAAa,CAAEP,QAAQ,CAAE;IACzBM,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,EAAI;EACb,CAAC;;EAED;AACD;AACA;AACA;AACA;EACC,MAAME,KAAK,GAAG,CAAEF,QAAQ,EAAEG,WAAW,KAAM;IAC1CT,QAAQ,GAAGU,WAAW,CAAE,MAAM;MAC7B,IAAKT,WAAW,GAAGC,KAAK,EAAG;QAC1BI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAIL,WAAW,CAAE;QACzBA,WAAW,IAAI,CAAC;MACjB,CAAC,MAAM;QACNI,IAAI,CAAEI,WAAW,CAAE;MACpB;IACD,CAAC,EAAEV,SAAS,GAAG,IAAI,CAAE;EACtB,CAAC;EAED,OAAO;IACNG,KAAK;IACLM,KAAK;IACLH;EACD,CAAC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACO,MAAMM,QAAQ,GAAKL,QAAQ,IAAM;EACvC,IAAK,WAAW,KAAK,OAAOM,QAAQ,EAAG;IACtC;EACD;EAEA,IACC,UAAU,KAAKA,QAAQ,CAACC,UAAU;EAAI;EACtC,aAAa,KAAKD,QAAQ,CAACC,UAAU,CAAC;EAAA,EACrC;IACD,OAAO,KAAKP,QAAQ,EAAE;EACvB;;EAEA;EACAM,QAAQ,CAACE,gBAAgB,CAAE,kBAAkB,EAAER,QAAQ,CAAE;AAC1D,CAAC;;;;;;UChED;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNA;AACA;AACA;AAIwB;AAExB,MAAMS,iBAAiB,GAAG,CAAC;;AAE3B;AACA;AACA;AACA,MAAMC,WAAW,GAAG;EACnB,MAAM,EAAEC,SAAS;EACjB,iBAAiB,EAAE,GAAG;EACtB,eAAe,EAAE,IAAI;EACrB,eAAe,EAAE,IAAI;EACrB,iBAAiB,EAAE;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,GAAKC,IAAI,IAAM;EACpC,IAAIC,MAAM,GAAGD,IAAI,CAACE,aAAa;EAC/B,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,iBAAiB,EAAE,EAAEO,CAAC,EAAG;IAC7C,IAAKC,KAAK,CAACC,IAAI,CAAEJ,MAAM,CAACK,SAAS,CAAE,CAACC,IAAI,CAAEC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAE,WAAW,CAAE,CAAE,EAAG;MAAA;MAC5E,MAAMC,GAAG,GAAGN,KAAK,CAACC,IAAI,CAAEJ,MAAM,CAACK,SAAS,CAAE;MAE1C,MAAMK,KAAK,GAAGD,GAAG,CAACE,MAAM,CAAEC,CAAC,IAAIA,CAAC,CAACJ,QAAQ,CAAE,iBAAiB,CAAE,CAAE,CAACK,GAAG,EAAE;MACtE,MAAMC,MAAM,GAAGC,QAAQ,CAAE,CAAAL,KAAK,aAALA,KAAK,uCAALA,KAAK,CAAEM,KAAK,CAAE,GAAG,CAAE,iDAAnB,aAAsB,CAAC,CAAC,KAAI,GAAG,CAAE;MAC1D,MAAMC,IAAI,GAAGP,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEF,QAAQ,CAAE,IAAI,CAAE;MAEpC,MAAMU,YAAY,GAAGC,MAAM,CAACC,IAAI,CAAExB,WAAW,CAAE;MAC/C,MAAMyB,KAAK,GAAG,CAAAZ,GAAG,aAAHA,GAAG,sCAAHA,GAAG,CAAEE,MAAM,CAAEC,CAAC,IAAIM,YAAY,CAACV,QAAQ,CAAEI,CAAC,CAAE,CAAE,gDAA9C,YAAgDC,GAAG,EAAE,KAAI,MAAM;MAE7E,OAAO;QACNQ,KAAK,EAAEzB,WAAW,CAACyB,KAAK,CAAC;QACzBX,KAAK,EAAEI,MAAM,IAAKG,IAAI,GAAG,CAAC,GAAG,IAAI;MAClC,CAAC;IACF;EACD;EACA,OAAOpB,SAAS;AACjB,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA,MAAMyB,UAAU,GAAKvB,IAAI,IAAM;EAC9B,MAAMwB,IAAI,GAAG,CAAAxB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyB,SAAS,KAAI,EAAE;EAClC,MAAMC,MAAM,GAAG3B,gBAAgB,CAAEC,IAAI,CAAE;EAEvC,IAAK,EAAEwB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,MAAM,GAAG;IACrBC,OAAO;EACR;EAEA,MAAMC,GAAG,GAAGL,IAAI,CAACG,MAAM;EACvB,MAAMG,SAAS,GAAG,CAAE,CAAAJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEJ,KAAK,KAAI,GAAG,IAAKO,GAAG;EAChD,MAAM;IAAExC,KAAK;IAAEN,KAAK;IAAEG;EAAK,CAAC,GAAGR,uDAAY,CAAEoD,SAAS,EAAE,CAAAJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEJ,KAAK,KAAI,GAAG,CAAE;EAE9E,MAAMS,iBAAiB,GAAGtC,QAAQ,CAACuC,aAAa,CAAE,MAAM,CAAE;EAC1DD,iBAAiB,CAACzB,SAAS,CAAC2B,GAAG,CAAE,qBAAqB,CAAE;EACxDF,iBAAiB,CAACG,KAAK,CAACC,UAAU,GAAG,UAAU;EAE/C,MAAMC,eAAe,GAAG3C,QAAQ,CAACuC,aAAa,CAAE,MAAM,CAAE;EACxDI,eAAe,CAACF,KAAK,CAACC,UAAU,GAAG,UAAU;EAC7CC,eAAe,CAACF,KAAK,CAACG,UAAU,GAAG,QAAQ;EAE3C,MAAMC,eAAe,GAAGtC,IAAI,CAACyB,SAAS;EAEtCzB,IAAI,CAACyB,SAAS,GAAG,EAAE;EACnBzB,IAAI,CAACuC,WAAW,CAAER,iBAAiB,CAAE;EACrC/B,IAAI,CAACuC,WAAW,CAAEH,eAAe,CAAE;EACnCL,iBAAiB,CAACN,SAAS,GAAGD,IAAI,CAACgB,KAAK,CAAE,CAAC,EAAE,CAAC,CAAE;EAChDJ,eAAe,CAACX,SAAS,GAAGD,IAAI,CAACgB,KAAK,CAAE,CAAC,CAAE;EAE3C,OAAO,MAAM;IACZC,UAAU,CAAE,MAAM;MACjBpD,KAAK,CAAIc,CAAC,IAAM;QACf4B,iBAAiB,CAACN,SAAS,GAAGD,IAAI,CAACgB,KAAK,CAAE,CAAC,EAAErC,CAAC,CAAE;QAChD,IAAKA,CAAC,GAAG0B,GAAG,EAAG;UACdO,eAAe,CAACX,SAAS,GAAGD,IAAI,CAACgB,KAAK,CAAErC,CAAC,CAAE;QAC5C;QACA,IAAK0B,GAAG,IAAI9C,KAAK,EAAG;UACnBG,IAAI,EAAE;QACP;MACD,CAAC,EAAE,MAAM;QACRc,IAAI,CAACyB,SAAS,GAAGa,eAAe;MACjC,CAAC,CAAC;IAEH,CAAC,EAAE,CAAAZ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEf,KAAK,KAAI,CAAC,CAAE;EACxB,CAAC;AACF,CAAC;AAEDnB,mDAAQ,CAAE,MAAM;EACf,MAAMkD,OAAO,GAAG;IACfC,IAAI,EAAE,IAAI;IACVC,UAAU,EAAE,KAAK;IACjBC,SAAS,EAAE,CAAE,GAAG;EACjB,CAAC;EAED,IAAIC,MAAM,GAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;EAEDA,MAAM,GAAGA,MAAM,CAACC,OAAO,CAAE,mBAAmB,EAAE,EAAE,CAAE;EAElD,IAAIC,SAAS,GAAG,KAAK;EAErBP,UAAU,CAAE,MAAM;IACjB,MAAMQ,KAAK,GAAGxD,QAAQ,CAACyD,gBAAgB,CAAE,eAAe,CAAE;IAC1DD,KAAK,CAACE,OAAO,CAAInD,IAAI,IAAM;MAC1B,IAAK,CAAEgD,SAAS,EAAG;QAClB,MAAMI,UAAU,GAAG3D,QAAQ,CAACuC,aAAa,CAAE,OAAO,CAAE;QACpDoB,UAAU,CAACC,SAAS,GAAGP,MAAM;QAC7BrD,QAAQ,CAAC6D,IAAI,CAACf,WAAW,CAAEa,UAAU,CAAE;QACvCJ,SAAS,GAAG,IAAI;MACjB;MAEA,MAAMO,WAAW,GAAGhC,UAAU,CAAEvB,IAAI,CAAE;MACtC,MAAMwD,QAAQ,GAAG,IAAIC,oBAAoB,CAAIC,OAAO,IAAM;QACzDA,OAAO,CAACP,OAAO,CAAEQ,KAAK,IAAI;UACzB,IAAKA,KAAK,CAACC,cAAc,IAAI,CAAC,GAAGD,KAAK,CAACE,gBAAgB,CAACC,MAAM,EAAG;YAChEN,QAAQ,CAACO,SAAS,CAAE/D,IAAI,CAAE;YAC1BuD,WAAW,EAAE;UACd;QACD,CAAC,CAAC;MACH,CAAC,EAAEb,OAAO,CAAE;MACZc,QAAQ,CAACQ,OAAO,CAAEhE,IAAI,CAAE;IACzB,CAAC,CAAC;EACH,CAAC,EAAE,GAAG,CAAE;AAET,CAAC,CAAC,C","sources":["webpack://themehunk-block/./inc/block/animation/utils.js","webpack://themehunk-block/webpack/bootstrap","webpack://themehunk-block/webpack/runtime/define property getters","webpack://themehunk-block/webpack/runtime/hasOwnProperty shorthand","webpack://themehunk-block/webpack/runtime/make namespace object","webpack://themehunk-block/./inc/block/animation/frontend/typing/index.js"],"sourcesContent":["/**\r\n * Create utility functions for an interval timer.\r\n * @param {number} duration The duration, in seconds.\r\n * @param {number} deltaTime The time between two time ticks, in seconds.\r\n * @returns Utility functions.\r\n */\r\nexport const makeInterval = ( duration, deltaTime ) => {\r\n\r\n\tlet interval;\r\n\tlet currentStep = 0;\r\n\tconst steps = ( Math.ceil( duration / deltaTime ) + 1 ) || 1;\r\n\r\n\t/**\r\n\t * Stop the interval. Get a callback function that execute at the end.\r\n\t * @param {Function} callback Function that execute at the end.\r\n\t */\r\n\tconst stop = ( callback ) => {\r\n\t\tclearInterval( interval );\r\n\t\tcallback?.();\r\n\t};\r\n\r\n\t/**\r\n\t * Start the interval. Get a callback function that execute at every tick and the one that execute at the end.\r\n\t * @param {Function} callback Function that execute at every tick.\r\n\t * @param {Function} endCallback Function that execute at the end.\r\n\t */\r\n\tconst start = ( callback, endCallback ) => {\r\n\t\tinterval = setInterval( () => {\r\n\t\t\tif ( currentStep < steps ) {\r\n\t\t\t\tcallback?.( currentStep );\r\n\t\t\t\tcurrentStep += 1;\r\n\t\t\t} else {\r\n\t\t\t\tstop( endCallback );\r\n\t\t\t}\r\n\t\t}, deltaTime * 1000 );\r\n\t};\r\n\r\n\treturn {\r\n\t\tsteps,\r\n\t\tstart,\r\n\t\tstop\r\n\t};\r\n};\r\n\r\n/**\r\n * Specify a function to execute when the DOM is fully loaded.\r\n *\r\n * @param {Callback} callback A function to execute after the DOM is ready.\r\n * @return {void}\r\n */\r\nexport const domReady = ( callback ) => {\r\n\tif ( 'undefined' === typeof document ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (\r\n\t\t'complete' === document.readyState || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\r\n\t\t'interactive' === document.readyState // DOMContentLoaded fires at this point, so we call directly.\r\n\t) {\r\n\t\treturn void callback();\r\n\t}\r\n\r\n\t// DOMContentLoaded has not fired yet, delay callback until then.\r\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tdomReady,\r\n\tmakeInterval\r\n} from '../../utils.js';\r\n\r\nconst MAX_PARENT_SEARCH = 3;\r\n\r\n/**\r\n * This is the speed per characher and not the total one like in the other animations.\r\n */\r\nconst speedConfig = {\r\n\t'none': undefined,\r\n\t'o-typing-slower': 0.4,\r\n\t'o-typing-slow': 0.25,\r\n\t'o-typing-fast': 0.05,\r\n\t'o-typing-faster': 0.01\r\n};\r\n\r\n/**\r\n * Get the configuration option from the element CSS classes.\r\n * @param {HTMLDivElement} elem\r\n * @returns Configuration options.\r\n */\r\nconst getConfiguration = ( elem ) => {\r\n\tlet parent = elem.parentElement;\r\n\tfor ( let i = 0; i < MAX_PARENT_SEARCH; ++i ) {\r\n\t\tif ( Array.from( parent.classList ).some( o => o.includes( 'o-typing-' ) ) ) {\r\n\t\t\tconst arr = Array.from( parent.classList );\r\n\r\n\t\t\tconst delay = arr.filter( x => x.includes( 'o-typing-delay-' ) ).pop();\r\n\t\t\tconst number = parseInt( delay?.split( '-' )?.[3] || '0' );\r\n\t\t\tconst isMS = delay?.includes( 'ms' );\r\n\r\n\t\t\tconst speedOptions = Object.keys( speedConfig );\r\n\t\t\tconst speed = arr?.filter( x => speedOptions.includes( x ) )?.pop() || 'fast';\r\n\r\n\t\t\treturn {\r\n\t\t\t\tspeed: speedConfig[speed],\r\n\t\t\t\tdelay: number * ( isMS ? 0 : 1000 )\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\n\r\n/**\r\n * Start the count animation.\r\n * @param {HTMLDivElement} elem The HTML element.\r\n * @return {Function} Start the typing animation.\r\n */\r\nconst initTyping = ( elem ) => {\r\n\tconst text = elem?.innerHTML || '';\r\n\tconst config = getConfiguration( elem );\r\n\r\n\tif ( ! text?.length ) {\r\n\t\treturnl;\r\n\t}\r\n\r\n\tconst len = text.length;\r\n\tconst totalTime = ( config?.speed || 0.1 ) * len;\r\n\tconst { start, steps, stop } = makeInterval( totalTime, config?.speed || 0.1 );\r\n\r\n\tconst typingPlaceholder = document.createElement( 'span' );\r\n\ttypingPlaceholder.classList.add( 'o-anim-typing-caret' );\r\n\ttypingPlaceholder.style.whiteSpace = 'pre-wrap';\r\n\r\n\tconst fillPlaceholder = document.createElement( 'span' );\r\n\tfillPlaceholder.style.whiteSpace = 'pre-wrap';\r\n\tfillPlaceholder.style.visibility = 'hidden';\r\n\r\n\tconst originalContent = elem.innerHTML;\r\n\r\n\telem.innerHTML = '';\r\n\telem.appendChild( typingPlaceholder );\r\n\telem.appendChild( fillPlaceholder );\r\n\ttypingPlaceholder.innerHTML = text.slice( 0, 0 );\r\n\tfillPlaceholder.innerHTML = text.slice( 0 );\r\n\r\n\treturn () => {\r\n\t\tsetTimeout( () => {\r\n\t\t\tstart( ( i ) => {\r\n\t\t\t\ttypingPlaceholder.innerHTML = text.slice( 0, i );\r\n\t\t\t\tif ( i < len ) {\r\n\t\t\t\t\tfillPlaceholder.innerHTML = text.slice( i );\r\n\t\t\t\t}\r\n\t\t\t\tif ( len >= steps ) {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\t\t\t}, () => {\r\n\t\t\t\telem.innerHTML = originalContent;\r\n\t\t\t});\r\n\r\n\t\t}, config?.delay || 0 );\r\n\t};\r\n};\r\n\r\ndomReady( () => {\r\n\tconst options = {\r\n\t\troot: null,\r\n\t\trootMargin: '0px',\r\n\t\tthreshold: [ 0.6 ]\r\n\t};\r\n\r\n\tlet styles = `\r\n\t\t.o-anim-typing-caret::after {\r\n\t\t\tfont-weight: 100;\r\n\t\t\tcontent: '|';\r\n\t\t\tcolor: #2E3D48;\r\n\t\t\tanimation: 1s blink step-end infinite;\r\n\t\t}\r\n\t\r\n\t\t@keyframes blink {\r\n\t\t\tfrom, to {\r\n\t\t\t  color: transparent;\r\n\t\t   }\r\n\t\t\t50% {\r\n\t\t\t  color: black;\r\n\t\t   }\r\n\t\t}\r\n\t`;\r\n\r\n\tstyles = styles.replace( /(\\r\\n|\\n|\\r|\\t)/gm, '' );\r\n\r\n\tlet hasStyles = false;\r\n\r\n\tsetTimeout( () => {\r\n\t\tconst anims = document.querySelectorAll( 'o-anim-typing' );\r\n\t\tanims.forEach( ( elem ) => {\r\n\t\t\tif ( ! hasStyles ) {\r\n\t\t\t\tconst styleSheet = document.createElement( 'style' );\r\n\t\t\t\tstyleSheet.innerText = styles;\r\n\t\t\t\tdocument.head.appendChild( styleSheet );\r\n\t\t\t\thasStyles = true;\r\n\t\t\t}\r\n\r\n\t\t\tconst startTyping = initTyping( elem );\r\n\t\t\tconst observer = new IntersectionObserver( ( entries ) => {\r\n\t\t\t\tentries.forEach( entry => {\r\n\t\t\t\t\tif ( entry.isIntersecting && 0 < entry.intersectionRect.height ) {\r\n\t\t\t\t\t\tobserver.unobserve( elem );\r\n\t\t\t\t\t\tstartTyping();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, options );\r\n\t\t\tobserver.observe( elem );\r\n\t\t});\r\n\t}, 100 );\r\n\r\n});\r\n"],"names":["makeInterval","duration","deltaTime","interval","currentStep","steps","Math","ceil","stop","callback","clearInterval","start","endCallback","setInterval","domReady","document","readyState","addEventListener","MAX_PARENT_SEARCH","speedConfig","undefined","getConfiguration","elem","parent","parentElement","i","Array","from","classList","some","o","includes","arr","delay","filter","x","pop","number","parseInt","split","isMS","speedOptions","Object","keys","speed","initTyping","text","innerHTML","config","length","returnl","len","totalTime","typingPlaceholder","createElement","add","style","whiteSpace","fillPlaceholder","visibility","originalContent","appendChild","slice","setTimeout","options","root","rootMargin","threshold","styles","replace","hasStyles","anims","querySelectorAll","forEach","styleSheet","innerText","head","startTyping","observer","IntersectionObserver","entries","entry","isIntersecting","intersectionRect","height","unobserve","observe"],"sourceRoot":""}