{"version":3,"file":"view-grid.js","mappings":";;;;;AAAAA,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOAC,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAASC,CAAC,EAAE;EAC/B,IAAIC,IAAI,GAAG,CAAC,CAAC,CAAC;EACd,IAAIC,QAAQ,GAAGF,CAAC,CAAC,YAAY,CAAC,CAACG,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEtCH,CAAC,CAAC,gBAAgB,CAAC,CAACI,EAAE,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIC,IAAI,GAAGP,CAAC,CAAC,IAAI,CAAC;IAClBO,IAAI,CAACC,IAAI,CAAC,YAAY,CAAC;IAEvB,IAAIC,IAAI,GAAG;MACPC,MAAM,EAAE,wBAAwB;MAChCC,KAAK,EAAEC,sBAAsB,CAACD,KAAK;MACnCV,IAAI,EAAEA;IACV,CAAC;IAEDD,CAAC,CAACa,IAAI,CAACD,sBAAsB,CAACE,QAAQ,EAAEL,IAAI,EAAE,UAASM,QAAQ,EAAE;MAC7D,IAAIA,QAAQ,CAACC,OAAO,EAAE;QAClBhB,CAAC,CAAC,YAAY,CAAC,CAACG,GAAG,CAACY,QAAQ,CAACN,IAAI,CAACQ,SAAS,CAAC,CAAC,CAAC;;QAE9CjB,CAAC,CAAC,uBAAuB,CAAC,CAACkB,MAAM,CAACH,QAAQ,CAACN,IAAI,CAACU,OAAO,CAAC,CAAC,CAAC;QAC1DZ,IAAI,CAACC,IAAI,CAAC,WAAW,CAAC;QAEtBP,IAAI,EAAE;QACN,IAAIA,IAAI,GAAGC,QAAQ,EAAE;UACjBK,IAAI,CAACa,IAAI,CAAC,CAAC,CAAC,CAAC;QACjB;MACJ;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC,C","sources":["webpack://vayu-blocks/./src/block/post-grid/view.js"],"sourcesContent":["console.log(\"view\");\r\n\r\n// jQuery(function($) {\r\n//     $(document).on('click', '.pagination a', function(e) {\r\n//         e.preventDefault();\r\n\r\n//         var page = $(this).attr('href').split('/').pop(); // Extract page number from the link\r\n//         var data = {\r\n//             action: 'load_posts', // AJAX action name registered in WordPress\r\n//             page: page, // Current page number\r\n//             attr: window.postGridAttributes // Pass your block attributes object here\r\n//         };\r\n\r\n//         $.ajax({\r\n//             url: postGridAjax.ajaxurl, // Use the localized AJAX URL from wp_localize_script\r\n//             type: 'POST',\r\n//             data: data,\r\n//             success: function(response) {\r\n//                 $('.th-post-grid-wrapper').html(response); // Replace content with loaded posts\r\n//             },\r\n//             error: function(xhr, status, error) {\r\n//                 console.error(xhr.responseText); // Log any AJAX errors for debugging\r\n//             }\r\n//         });\r\n//     });\r\n// });\r\n\r\n\r\n\r\n\r\n\r\n\r\njQuery(document).ready(function($) {\r\n    var page = 2; // Initial page number\r\n    var maxPages = $('#max-pages').val(); // Total number of pages\r\n\r\n    $('#load-more-btn').on('click', function(e) {\r\n        e.preventDefault();\r\n        var $btn = $(this);\r\n        $btn.text('Loading...');\r\n\r\n        var data = {\r\n            action: 'vayu_blocks_load_posts',\r\n            nonce: vayu_blocks_load_posts.nonce,\r\n            page: page,\r\n        };\r\n\r\n        $.post(vayu_blocks_load_posts.ajax_url, data, function(response) {\r\n            if (response.success) {\r\n                $('#max-pages').val(response.data.max_pages); // Update max pages\r\n\r\n                $('.th-post-grid-wrapper').append(response.data.content); // Append new posts\r\n                $btn.text('Load More');\r\n\r\n                page++;\r\n                if (page > maxPages) {\r\n                    $btn.hide(); // Hide button when no more posts to load\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n"],"names":["console","log","jQuery","document","ready","$","page","maxPages","val","on","e","preventDefault","$btn","text","data","action","nonce","vayu_blocks_load_posts","post","ajax_url","response","success","max_pages","append","content","hide"],"sourceRoot":""}