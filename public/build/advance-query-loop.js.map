{"version":3,"file":"advance-query-loop.js","mappings":";;;;;;;;;;;;;;;;;;AAAsC;AACtC;AACA;AACA;AACkD;AAClD,aAAa,oDAAa,CAAC,sDAAG;AAC9B;AACA;AACA,CAAC,EAAE,oDAAa,CAAC,uDAAI;AACrB;AACA,CAAC;AACD,iEAAe,IAAI,EAAC;AACpB;;;;;;;;;;;;;;;;;;;;ACZsD;AACjB;;AAErC;AAAA;AACA,MAAMI,YAAY,GAAG,CACjB;EAAEC,KAAK,EAAEJ,mDAAE,CAAC,kBAAkB,EAAE,aAAa,CAAC;EAAEK,KAAK,EAAE;AAAY,CAAC,EACpE;EAAED,KAAK,EAAEJ,mDAAE,CAAC,kBAAkB,EAAE,aAAa,CAAC;EAAEK,KAAK,EAAE;AAAW,CAAC,EACnE;EAAED,KAAK,EAAEJ,mDAAE,CAAC,OAAO,EAAE,aAAa,CAAC;EAAEK,KAAK,EAAE;AAAY,CAAC,EACzD;EAAED,KAAK,EAAEJ,mDAAE,CAAC,OAAO,EAAE,aAAa,CAAC;EAAEK,KAAK,EAAE;AAAa,CAAC,CAC7D;;AAED;AACA,MAAMC,YAAY,GAAGA,CAAC;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAS,CAAC,kBAC9CP,sDAAA,CAACH,gEAAa;EACVK,KAAK,EAAEJ,mDAAE,CAAC,UAAU,EAAE,aAAa,CAAE;EACrCK,KAAK,EAAE,GAAGG,OAAO,IAAID,KAAK,EAAG;EAC7BG,OAAO,EAAEP,YAAa;EACtBM,QAAQ,EAAGJ,KAAK,IAAK;IACjB,MAAM,CAACM,UAAU,EAAEC,QAAQ,CAAC,GAAGP,KAAK,CAACQ,KAAK,CAAC,GAAG,CAAC;IAC/CJ,QAAQ,CAAC;MAAEF,KAAK,EAAEK,QAAQ;MAAEJ,OAAO,EAAEG;IAAW,CAAC,CAAC;EACtD;AAAE,CACL,CACJ;AAED,iEAAeL,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBiB;AACC;AACa;AACU;AACV;AAK/B;;AAG3B;AACA;AACA;AACA;AACA;AACO,MAAMiB,YAAY,GAAGA,CAAA,KAAM;EACjC,MAAMC,SAAS,GAAGV,0DAAS,CAAIW,MAAM,IAAM;IAC1C,MAAM;MAAEC;IAAa,CAAC,GAAGD,MAAM,CAAER,uDAAU,CAAC;IAC5C,MAAMU,iBAAiB,GAAG,CAAE,YAAY,CAAE;IAC1C,MAAMC,iBAAiB,GAAGF,YAAY,CAAE;MAAEG,QAAQ,EAAE,CAAC;IAAE,CAAE,CAAC,EAAEC,MAAM,CACjE,CAAE;MAAEC,QAAQ;MAAEC;IAAK,CAAC,KACnBD,QAAQ,IAAI,CAAEJ,iBAAiB,CAACM,QAAQ,CAAED,IAAK,CACjD,CAAC;IACD,OAAOJ,iBAAiB;EACzB,CAAC,EAAE,EAAG,CAAC;EACP,MAAMM,sBAAsB,GAAGnB,2DAAO,CAAE,MAAM;IAC7C,IAAK,CAAES,SAAS,EAAEW,MAAM,EAAG;MAC1B;IACD;IACA,OAAOX,SAAS,CAACY,MAAM,CAAE,CAAEC,WAAW,EAAEC,IAAI,KAAM;MACjDD,WAAW,CAAEC,IAAI,CAACN,IAAI,CAAE,GAAGM,IAAI,CAACC,UAAU;MAC1C,OAAOF,WAAW;IACnB,CAAC,EAAE,CAAC,CAAE,CAAC;EACR,CAAC,EAAE,CAAEb,SAAS,CAAG,CAAC;EAClB,MAAMgB,sBAAsB,GAAGzB,2DAAO,CACrC,MACC,CAAES,SAAS,IAAI,EAAE,EAAGiB,GAAG,CAAE,CAAE;IAAEC,MAAM;IAAEV;EAAK,CAAC,MAAQ;IAClD5B,KAAK,EAAEsC,MAAM,CAACC,aAAa;IAC3BtC,KAAK,EAAE2B;EACR,CAAC,CAAG,CAAC,EACN,CAAER,SAAS,CACZ,CAAC;EACD,OAAO;IAAEU,sBAAsB;IAAEM;EAAuB,CAAC;AAC1D,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7C4C;AACe;AACiC;AACxD;AACkB;AACX;AACa;AACJ;AACG;;AAExD;AACA;AACA;AAFA;AAGA,MAAMgB,oBAAoB,GAAIC,SAAS,IAAMC,KAAK,IAAK;EACnD,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGF,KAAK;EAC3C,MAAM;IAAEG,KAAK,GAAG,CAAC;EAAE,CAAC,GAAGF,UAAU;EACjC,MAAM;IAAEG,OAAO,GAAG,CAAC;IAAEC,OAAO,GAAG,KAAK;IAAEC,MAAM,GAAG,KAAK;IAAEC,QAAQ,GAAG,MAAM;IAAEC,OAAO,GAAG;EAAE,CAAC,GAAGL,KAAK;EAC9F,MAAM;IAAEtD,KAAK,GAAG,MAAM;IAAEC,OAAO,GAAG;EAAO,CAAC,GAAGqD,KAAK;EAClD,MAAM;IAAErB;EAAuB,CAAC,GAAGjB,qEAAY,CAAC,CAAC;EAEjD,MAAM,CAAE4C,SAAS,EAAEC,YAAY,CAAE,GAAGjB,4DAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAEkB,KAAK,EAAEC,QAAQ,CAAE,GAAGnB,4DAAQ,CAAC,EAAE,CAAC;;EAExC;EACA,MAAMoB,YAAY,GAAGzD,0DAAS,CAAEW,MAAM,IAAK;IACvC,MAAM;MAAE+C;IAAiB,CAAC,GAAG/C,MAAM,CAAC,MAAM,CAAC;IAC3C,OAAO+C,gBAAgB,CAAC,UAAU,EAAEP,QAAQ,EAAE;MAAEQ,MAAM,EAAEN,SAAS;MAAEtC,QAAQ,EAAE;IAAG,CAAC,CAAC;EACtF,CAAC,EAAE,CAACsC,SAAS,EAAEF,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE3Bf,6DAAS,CAAC,MAAM;IACZ,IAAIqB,YAAY,EAAE;MACdD,QAAQ,CAACC,YAAY,CAAC;IAC1B;EACJ,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;;EAElB;EACA,IAAIZ,UAAU,CAACe,SAAS,KAAK,gCAAgC,EAAE;IAC3D,oBACIrB,uDAAA,CAAAE,uDAAA;MAAAoB,QAAA,gBACIzE,sDAAA,CAACuD,SAAS;QAAA,GAAKC;MAAK,CAAG,CAAC,eACxBxD,sDAAA,CAAC2C,sEAAiB;QAAA8B,QAAA,eACdtB,uDAAA,CAACP,4DAAS;UAAC8B,KAAK,EAAE5E,mDAAE,CAAC,yBAAyB,EAAE,aAAa,CAAE;UAAA2E,QAAA,gBAE3DzE,sDAAA,CAAC6C,gEAAa;YACV3C,KAAK,EAAEJ,mDAAE,CAAC,2BAA2B,EAAE,aAAa,CAAE;YACtD6E,OAAO,EAAEd,OAAQ;YACjBtD,QAAQ,EAAGJ,KAAK,IAAK;cACjBuD,aAAa,CAAC;gBACVC,KAAK,EAAE;kBACH,GAAGA,KAAK;kBACRE,OAAO,EAAE1D;gBACb;cACJ,CAAC,CAAC;YACN;UAAE,CACL,CAAC,eAEFH,sDAAA,CAAC6C,gEAAa;YACV3C,KAAK,EAAEJ,mDAAE,CAAC,mBAAmB,EAAE,aAAa,CAAE;YAC9C6E,OAAO,EAAEb,MAAO;YAChBvD,QAAQ,EAAGJ,KAAK,IAAK;cACjBuD,aAAa,CAAC;gBACVC,KAAK,EAAE;kBACH,GAAGA,KAAK;kBACRG,MAAM,EAAE3D;gBACZ;cACJ,CAAC,CAAC;YACN;UAAE,CACL,CAAC,eAEFH,sDAAA,CAACI,gEAAY;YACTC,KAAK,EAAEA,KAAM;YACbC,OAAO,EAAEA,OAAQ;YACjBC,QAAQ,EAAGqE,QAAQ,IAAK;cACpBlB,aAAa,CAAC;gBACVC,KAAK,EAAE;kBACH,GAAGA,KAAK;kBACR,GAAGiB;gBACP;cACJ,CAAC,CAAC;YACN;UAAE,CACL,CAAC,eAEF5E,sDAAA,CAACH,gEAAa;YACVK,KAAK,EAAEJ,mDAAE,CAAC,WAAW,EAAE,aAAa,CAAE;YACtCK,KAAK,EAAE4D,QAAS;YAChBvD,OAAO,EAAE8B,sBAAuB,CAAC;YAAA;YACjC/B,QAAQ,EAAGsE,WAAW,IAAK;cACvBnB,aAAa,CAAC;gBACVC,KAAK,EAAE;kBACH,GAAGA,KAAK;kBACRI,QAAQ,EAAEc;gBACd;cACJ,CAAC,CAAC;YACN;UAAE,CACL,CAAC,eAEF7E,sDAAA,CAAC8C,8DAAW;YAChC5C,KAAK,EAAEJ,mDAAE,CAAC,eAAe,EAAE,aAAa,CAAE;YAC1CgF,IAAI,EAAEhF,mDAAE,CAAC,gEAAgE,EAAE,aAAa,CAAE;YAAA2E,QAAA,eAE1FzE,sDAAA,CAAC+C,iEAAc;cACX5C,KAAK,EAAE6D,OAAO,IAAIA,OAAO,CAAC/B,MAAM,GAAG,CAAC,GAC9B+B,OAAO,CAACzB,GAAG,CAACwC,EAAE,IAAI;gBAChB,MAAMC,IAAI,GAAGb,KAAK,CAACc,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACD,EAAE,KAAKA,EAAE,CAAC;gBAC/C,OAAOC,IAAI,GAAGA,IAAI,CAACN,KAAK,CAACQ,QAAQ,GAAG,EAAE,CAAC,CAAC;cAC5C,CAAC,CAAC,GACA,EAAG;cACTC,WAAW,EAAEhB,KAAK,IAAIA,KAAK,CAAClC,MAAM,GAAG,CAAC,GAChCkC,KAAK,CAAC5B,GAAG,CAACyC,IAAI,IAAIA,IAAI,CAACN,KAAK,CAACQ,QAAQ,CAAC,CAAC;cAAA,EACvC,EAAG;cACTE,aAAa,EAAGC,UAAU,IAAKnB,YAAY,CAACmB,UAAU,CAAE;cACxD9E,QAAQ,EAAG+E,MAAM,IAAK;gBAClB;gBACA,MAAMC,eAAe,GAAGD,MAAM,CAAC/C,GAAG,CAACmC,KAAK,IAAI;kBACxC,MAAMM,IAAI,GAAGb,KAAK,CAACc,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACN,KAAK,CAACQ,QAAQ,KAAKR,KAAK,CAAC;kBAC9D,OAAOM,IAAI,GAAGA,IAAI,CAACD,EAAE,GAAG,IAAI,CAAC,CAAC;gBAClC,CAAC,CAAC,CAACnD,MAAM,CAAC4D,OAAO,CAAC,CAAC,CAAC;;gBAEpB9B,aAAa,CAAC;kBACVC,KAAK,EAAE;oBACH,GAAGA,KAAK;oBACRK,OAAO,EAAE,CAAC,GAAG,IAAIyB,GAAG,CAACF,eAAe,CAAC,CAAC,CAAE;kBAC5C;gBACJ,CAAC,CAAC;gBACFrB,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;cACtB,CAAE;cACFwB,2BAA2B;cAC3BC,uBAAuB,EAAE;YAAM,CACtB;UAAC,CACa,CAAC;QAAA,CAGD;MAAC,CACG,CAAC;IAAA,CACtB,CAAC;EAEX;;EAEA;EACA,oBAAO3F,sDAAA,CAACuD,SAAS;IAAA,GAAKC;EAAK,CAAG,CAAC;AACnC,CAAC;;AAED;AACAd,2DAAS,CACL,kBAAkB,EAClB,oCAAoC,EACpCY,oBACJ,CAAC;;;;;;;;;;ACnJD;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACN2D;AACtB;AACW;AACA;AAC7B;;AAEnB;AACAsC,yEAAsB,CAAC,YAAY,EAAE;EACjCI,IAAI,EAAE,gCAAgC;EACtCtB,KAAK,EAAE5E,mDAAE,CAAC,qBAAqB,EAAE,aAAa,CAAC;EAC/CmG,WAAW,EAAEnG,mDAAE,CAAC,iFAAiF,EAAE,aAAa,CAAC;EACjHgG,IAAI;EACJI,QAAQ,EAAE,aAAa;EACvBC,KAAK,EAAE,CAAC,UAAU,EAAE,YAAY,CAAC;EACjC1C,UAAU,EAAE;IACRe,SAAS,EAAE;EACf,CAAC;EACD4B,QAAQ,EAAGC,eAAe,IAAKA,eAAe,CAAC7B,SAAS,KAAK,gCAAgC;EAC7F;EACA8B,eAAe,EAAE,CAAC,UAAU,EAAC,QAAQ,EAAC,QAAQ,EAAC,SAAS,CAAC;EAAE;EAC3D;EACAC,UAAU,EAAE;IACRC,IAAI,EAAE,CACF;MACIpE,IAAI,EAAE,OAAO;MACbqE,MAAM,EAAE,CAAC,YAAY,CAAC;MACtBC,SAAS,EAAEA,CAACjD,UAAU,EAAEkD,WAAW,KAAK;QACpC,OAAOZ,8DAAW,CAAC,gCAAgC,EAAEtC,UAAU,EAAEkD,WAAW,CAAC;MACjF;IACJ,CAAC,CACJ;IACDC,EAAE,EAAE,CACA;MACIxE,IAAI,EAAE,OAAO;MACbqE,MAAM,EAAE,CAAC,YAAY,CAAC;MACtBC,SAAS,EAAEA,CAACjD,UAAU,EAAEkD,WAAW,KAAK;QACpC,OAAOZ,8DAAW,CAAC,YAAY,EAAEtC,UAAU,EAAEkD,WAAW,CAAC;MAC7D;IACJ,CAAC;EAET;AACJ,CAAC,CAAC,C","sources":["webpack://vayu-blocks/./node_modules/@wordpress/icons/build-module/library/loop.js","webpack://vayu-blocks/./src/block/advance-query-loop/component/order-control.js","webpack://vayu-blocks/./src/block/advance-query-loop/component/usePostTypes.js","webpack://vayu-blocks/./src/block/advance-query-loop/edit.js","webpack://vayu-blocks/external window \"React\"","webpack://vayu-blocks/external window \"ReactJSXRuntime\"","webpack://vayu-blocks/external window [\"wp\",\"blockEditor\"]","webpack://vayu-blocks/external window [\"wp\",\"blocks\"]","webpack://vayu-blocks/external window [\"wp\",\"components\"]","webpack://vayu-blocks/external window [\"wp\",\"coreData\"]","webpack://vayu-blocks/external window [\"wp\",\"data\"]","webpack://vayu-blocks/external window [\"wp\",\"element\"]","webpack://vayu-blocks/external window [\"wp\",\"hooks\"]","webpack://vayu-blocks/external window [\"wp\",\"htmlEntities\"]","webpack://vayu-blocks/external window [\"wp\",\"i18n\"]","webpack://vayu-blocks/external window [\"wp\",\"primitives\"]","webpack://vayu-blocks/webpack/bootstrap","webpack://vayu-blocks/webpack/runtime/compat get default export","webpack://vayu-blocks/webpack/runtime/define property getters","webpack://vayu-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://vayu-blocks/webpack/runtime/make namespace object","webpack://vayu-blocks/./src/block/advance-query-loop/index.js"],"sourcesContent":["import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst loop = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z\"\n}));\nexport default loop;\n//# sourceMappingURL=loop.js.map","import { SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n// Define the order options\r\nconst orderOptions = [\r\n    { label: __('Newest to oldest', 'vayu-blocks'), value: 'date/desc' },\r\n    { label: __('Oldest to newest', 'vayu-blocks'), value: 'date/asc' },\r\n    { label: __('A → Z', 'vayu-blocks'), value: 'title/asc' },\r\n    { label: __('Z → A', 'vayu-blocks'), value: 'title/desc' },\r\n];\r\n\r\n// OrderControl Component to handle order selection\r\nconst OrderControl = ({ order, orderBy, onChange }) => (\r\n    <SelectControl\r\n        label={__('Order by', 'vayu-blocks')}\r\n        value={`${orderBy}/${order}`}\r\n        options={orderOptions}\r\n        onChange={(value) => {\r\n            const [newOrderBy, newOrder] = value.split('/');\r\n            onChange({ order: newOrder, orderBy: newOrderBy });\r\n        }}\r\n    />\r\n);\r\n\r\nexport default OrderControl;\r\n","import { useSelect } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport {\r\n\tcloneBlock,\r\n\tgetBlockSupport,\r\n\tstore as blocksStore,\r\n} from '@wordpress/blocks';\r\n\r\n\r\n/**\r\n * Custom hook to fetch post types.\r\n *\r\n * @returns {Array} Array of post types formatted for SelectControl.\r\n */\r\nexport const usePostTypes = () => {\r\n\tconst postTypes = useSelect( ( select ) => {\r\n\t\tconst { getPostTypes } = select( coreStore );\r\n\t\tconst excludedPostTypes = [ 'attachment' ];\r\n\t\tconst filteredPostTypes = getPostTypes( { per_page: -1 } )?.filter(\r\n\t\t\t( { viewable, slug } ) =>\r\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\r\n\t\t);\r\n\t\treturn filteredPostTypes;\r\n\t}, [] );\r\n\tconst postTypesTaxonomiesMap = useMemo( () => {\r\n\t\tif ( ! postTypes?.length ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn postTypes.reduce( ( accumulator, type ) => {\r\n\t\t\taccumulator[ type.slug ] = type.taxonomies;\r\n\t\t\treturn accumulator;\r\n\t\t}, {} );\r\n\t}, [ postTypes ] );\r\n\tconst postTypesSelectOptions = useMemo(\r\n\t\t() =>\r\n\t\t\t( postTypes || [] ).map( ( { labels, slug } ) => ( {\r\n\t\t\t\tlabel: labels.singular_name,\r\n\t\t\t\tvalue: slug,\r\n\t\t\t} ) ),\r\n\t\t[ postTypes ]\r\n\t);\r\n\treturn { postTypesTaxonomiesMap, postTypesSelectOptions };\r\n};","import { addFilter } from '@wordpress/hooks';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody, ToggleControl, SelectControl, BaseControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { FormTokenField } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport OrderControl from './component/order-control'; \r\nimport { usePostTypes } from './component/usePostTypes';\r\n\r\n/**\r\n * Function to filter and modify controls for the block\r\n */\r\nconst withFilteredControls = (BlockEdit) => (props) => {\r\n    const { attributes, setAttributes } = props;\r\n    const { query = {} } = attributes;\r\n    const { perPage = 5, inherit = false, sticky = false, postType = 'post', exclude = []} = query;\r\n    const { order = 'desc', orderBy = 'date' } = query;\r\n    const { postTypesSelectOptions } = usePostTypes();\r\n    \r\n    const [ searchArg, setSearchArg ] = useState('');\r\n    const [ posts, setPosts ] = useState([]);\r\n\r\n    // Fetch posts based on search argument and postType\r\n    const fetchedPosts = useSelect((select) => {\r\n        const { getEntityRecords } = select('core');\r\n        return getEntityRecords('postType', postType, { search: searchArg, per_page: 10 });\r\n    }, [searchArg, postType]); // Trigger fetching when searchArg or postType changes\r\n\r\n    useEffect(() => {\r\n        if (fetchedPosts) {\r\n            setPosts(fetchedPosts);\r\n        }\r\n    }, [fetchedPosts]);\r\n\r\n    // Check if the block is 'vayu-blocks/advance-query-loop'\r\n    if (attributes.namespace === 'vayu-blocks/advance-query-loop') {\r\n        return (\r\n            <>\r\n                <BlockEdit {...props} />\r\n                <InspectorControls>\r\n                    <PanelBody title={__('Advanced Query Settings', 'vayu-blocks')}>\r\n                        {/* Control for Post Inherit */}\r\n                        <ToggleControl\r\n                            label={__('Inherit Query From Parent', 'vayu-blocks')}\r\n                            checked={inherit}\r\n                            onChange={(value) => {\r\n                                setAttributes({\r\n                                    query: {\r\n                                        ...query,\r\n                                        inherit: value,\r\n                                    },\r\n                                });\r\n                            }}\r\n                        />\r\n                        {/* Control for Sticky Posts */}\r\n                        <ToggleControl\r\n                            label={__('Show Sticky Posts', 'vayu-blocks')}\r\n                            checked={sticky}\r\n                            onChange={(value) => {\r\n                                setAttributes({\r\n                                    query: {\r\n                                        ...query,\r\n                                        sticky: value,\r\n                                    },\r\n                                });\r\n                            }}\r\n                        />\r\n                        {/* Control for Post Order */}\r\n                        <OrderControl\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onChange={(newQuery) => {\r\n                                setAttributes({\r\n                                    query: {\r\n                                        ...query,\r\n                                        ...newQuery,\r\n                                    },\r\n                                });\r\n                            }}\r\n                        />\r\n                        {/* Control for Post Type */}\r\n                        <SelectControl\r\n                            label={__('Post Type', 'vayu-blocks')}\r\n                            value={postType}\r\n                            options={postTypesSelectOptions} // Use dynamic options\r\n                            onChange={(newPostType) => {\r\n                                setAttributes({\r\n                                    query: {\r\n                                        ...query,\r\n                                        postType: newPostType,\r\n                                    },\r\n                                });\r\n                            }}\r\n                        />\r\n                        {/* Control for Excluded Posts */}\r\n                        <BaseControl\r\n    label={__('Exclude Posts', 'vayu-blocks')}\r\n    help={__('Start typing to search for a post title or manually enter one.', 'vayu-blocks')}\r\n>\r\n    <FormTokenField\r\n        value={exclude && exclude.length > 0 \r\n            ? exclude.map(id => {\r\n                const post = posts.find(post => post.id === id);\r\n                return post ? post.title.rendered : ''; // Map post IDs to titles\r\n            })\r\n            : []}\r\n        suggestions={posts && posts.length > 0 \r\n            ? posts.map(post => post.title.rendered) // Provide post title suggestions\r\n            : []}\r\n        onInputChange={(searchPost) => setSearchArg(searchPost)}\r\n        onChange={(titles) => {\r\n            // Map selected titles to post IDs\r\n            const selectedPostIds = titles.map(title => {\r\n                const post = posts.find(post => post.title.rendered === title);\r\n                return post ? post.id : null; // Only return post IDs\r\n            }).filter(Boolean); // Remove any null values\r\n\r\n            setAttributes({\r\n                query: {\r\n                    ...query,\r\n                    exclude: [...new Set(selectedPostIds)], // Allow multiple IDs to be selected and stored\r\n                },\r\n            });\r\n            setSearchArg(''); // Clear search input after selection\r\n        }}\r\n        __experimentalExpandOnFocus\r\n        __experimentalShowHowTo={false}\r\n                />\r\n                  </BaseControl>\r\n\r\n\r\n                    </PanelBody>\r\n                </InspectorControls>\r\n            </>\r\n        );\r\n    }\r\n\r\n    // Return the original block edit component for other blocks\r\n    return <BlockEdit {...props} />;\r\n};\r\n\r\n// Apply the filter to add the custom controls for the block\r\naddFilter(\r\n    'editor.BlockEdit',\r\n    'vayu-blocks/with-filtered-controls',\r\n    withFilteredControls\r\n);\r\n","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockVariation } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { loop as icon } from '@wordpress/icons';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport './edit.js';\r\n\r\n// Register a new variation for the core/query block\r\nregisterBlockVariation('core/query', {\r\n    name: 'vayu-blocks/advance-query-loop',\r\n    title: __('Advance Query Block', 'vayu-blocks'),\r\n    description: __('A custom block extending the core Query Loop block with dynamic post templates.', 'vayu-blocks'),\r\n    icon,\r\n    category: 'vayu-blocks', \r\n    scope: ['inserter', 'transforms'],\r\n    attributes: {\r\n        namespace: 'vayu-blocks/advance-query-loop',\r\n    },\r\n    isActive: (blockAttributes) => blockAttributes.namespace === 'vayu-blocks/advance-query-loop',\r\n    // Specify only the allowed controls, hiding all others\r\n    allowedControls: ['taxQuery','author','search','exclude'], // Only these controls will be shown\r\n    // You can add transformations as needed\r\n    transforms: {\r\n        from: [\r\n            {\r\n                type: 'block',\r\n                blocks: ['core/query'],\r\n                transform: (attributes, innerBlocks) => {\r\n                    return createBlock('vayu-blocks/advance-query-loop', attributes, innerBlocks);\r\n                },\r\n            },\r\n        ],\r\n        to: [\r\n            {\r\n                type: 'block',\r\n                blocks: ['core/query'],\r\n                transform: (attributes, innerBlocks) => {\r\n                    return createBlock('core/query', attributes, innerBlocks);\r\n                },\r\n            },\r\n        ],\r\n    },\r\n});\r\n"],"names":["SelectControl","__","jsx","_jsx","orderOptions","label","value","OrderControl","order","orderBy","onChange","options","newOrderBy","newOrder","split","useSelect","useMemo","store","coreStore","blockEditorStore","decodeEntities","cloneBlock","getBlockSupport","blocksStore","usePostTypes","postTypes","select","getPostTypes","excludedPostTypes","filteredPostTypes","per_page","filter","viewable","slug","includes","postTypesTaxonomiesMap","length","reduce","accumulator","type","taxonomies","postTypesSelectOptions","map","labels","singular_name","addFilter","InspectorControls","PanelBody","ToggleControl","BaseControl","FormTokenField","useEffect","useState","jsxs","_jsxs","Fragment","_Fragment","withFilteredControls","BlockEdit","props","attributes","setAttributes","query","perPage","inherit","sticky","postType","exclude","searchArg","setSearchArg","posts","setPosts","fetchedPosts","getEntityRecords","search","namespace","children","title","checked","newQuery","newPostType","help","id","post","find","rendered","suggestions","onInputChange","searchPost","titles","selectedPostIds","Boolean","Set","__experimentalExpandOnFocus","__experimentalShowHowTo","registerBlockVariation","loop","icon","createBlock","name","description","category","scope","isActive","blockAttributes","allowedControls","transforms","from","blocks","transform","innerBlocks","to"],"sourceRoot":""}